{
  "id": "coding-5",
  "categoryId": "coding",
  "title": "Оптимизация SQL",
  "description": "Промт для анализа и оптимизации SQL-запросов. Помогает улучшить производительность работы с базой данных.",
  "prompt": "Ты DBA с 10+ годами опыта оптимизации баз данных. Проанализируй и оптимизируй SQL-запрос:\n\n```sql\n[Вставь SQL-запрос]\n```\n\n**СУБД:** [PostgreSQL / MySQL / SQL Server / Oracle]\n\n**Контекст:**\n- Примерный размер таблиц\n- Текущие индексы (если известны)\n- Частота выполнения запроса\n\n**Выполни анализ:**\n\n**1. Анализ плана выполнения:**\n- Объясни EXPLAIN ANALYZE\n- Найди узкие места (full scan, nested loops)\n- Оцени стоимость запроса\n\n**2. Проблемы производительности:**\n- SELECT * вместо конкретных колонок\n- Отсутствующие индексы\n- Неэффективные JOIN\n- Подзапросы вместо JOIN\n- Функции на индексированных колонках\n- N+1 проблема\n\n**3. Рекомендации по индексам:**\n```sql\n-- Создание рекомендуемых индексов\nCREATE INDEX idx_name ON table(column);\n```\n\n**4. Оптимизированный запрос:**\n```sql\n-- Новая версия запроса с объяснениями\n```\n\n**5. Сравнение производительности:**\n| Метрика | До | После |\n|---------|-------|--------|\n| Время выполнения | X ms | Y ms |\n| Количество строк | | |\n| Использование индексов | | |\n\n**6. Дополнительные рекомендации:**\n- Кэширование\n- Партиционирование\n- Денормализация (если уместно)\n- Материализованные представления"
}

